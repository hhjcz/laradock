#
# copy to ../docker-composer.specific.yml
# hhj@centrum.cz
#
version: '2'

networks:
  default:
    ipam:
      config:
        - subnet: 172.19.0.0/16

services:
    workspace:
        build:
            context: ./workspace
            args:
                - INSTALL_SOAP=false
                - INSTALL_SNMP=false
        environment:
          - PORT=80
        networks:
            default:
              ipv4_address: 172.20.0.66

    workspace_node_dev:
        environment:
          - NODE_ENV=development
          - SERVER_BASE_URL=http://someurl/api
          - NO_SERVER_REACT=true
        networks:
          default:
            ipv4_address: 172.66.0.180

    workspace_node_prod:
        environment:
          - NODE_ENV=production
          - SERVER_BASE_URL=http://someurl/api
          - NO_SERVER_REACT=true
        networks:
          default:
            ipv4_address: 172.66.0.183

    workspace_node_stage:
        extends: workspace_node_prod
        environment:
          - NODE_ENV=staging
        networks:
          default:
            ipv4_address: 172.66.0.182
